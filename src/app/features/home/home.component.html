<section class="p-4 flex flex-col gap-4">
  <h1 class="font-bold text-4xl">Product List</h1>
  <div class="flex items-center gap-4">
    <p>Filter:</p>
    <input (input)="handleFilter()" class="border border-black/10 px-1 py-2" [(ngModel)]="filterString"/>
    <div class="flex items-center gap-4">
      <input id="isShowImage" type="checkbox" [(ngModel)]="isShowImage"/>
      <label for="isShowImage">Show Image?</label>
    </div>
  </div>
  <div>
    <table class="border border-collapse max-w-6xl">
      <thead>
      <tr class="border">
        <th *ngIf="isShowImage" class="border">Image</th>
        <th class="border">Product</th>
        <th class="border">Code</th>
        <th class="border">Available</th>
        <th class="border">Price</th>
        <th class="border">5-star Rating</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let _p of showProducts">
        <td *ngIf="isShowImage" class="border p-4 w-1/6"><img class="w-1/3" src="{{_p.imageUrl }}"/></td>
        <td class="border p-4 w-1/6">{{_p.productName }}</td>
        <td class="border p-4 w-1/6">{{_p.productCode }}</td>
        <td class="border p-4 w-1/6">{{_p.releaseDate }}</td>
        <td class="border p-4 w-1/6">{{_p.price }}</td>
        <td class="border p-4 w-1/6">
          <div class="overflow-hidden" [ngStyle]="{'width.px': _p.starRating * 90 / 5}">
            <div class="w-[90px]">
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            </div>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
